# ๐ ุงููุฒุงูุง ุงููุชูุฏูุฉ ุงูุฌุฏูุฏุฉ

## 1๏ธโฃ ูุดู ุงูุฑุณุงุฆู ุงูููููุฉ ูุงููุดููุฉ

### ุงููุดููุฉ ุงูุชู ูุญููุง:
ุงููุฒุนุฌูู ูุนุฏููู ุนูู ูุตูุต ุงูุฅุนูุงูุงุช ุจุฅุถุงูุฉ:
- โ๏ธ ุญุฑูุงุช ุนุฑุจูุฉ (ูุชุญุฉุ ุถูุฉุ ูุณุฑุฉ)
- โ ุฎุทูุท ูููุงุตู (_ุ -ุ ุ โ)
- ๐ค ูุณุงูุงุช ุฒุงุฆุฏุฉ ุจูู ุงูุฃุญุฑู
- ๐ค ุฃุญุฑู ุนุฑุจูุฉ ุจุฏููุฉ (ุง/ุฃ/ุฅ/ุข)

**ูุซุงู ุนูู ุงููุต ุงููููู:**
```
ุฅ ูููุฌููุง  ุฒุฉ  ู ูููุฑ ูููุถ ูููู ูููุฉ
```

### ุงูุญู:
ูุธุงู ูุดู ุฐูู ูููู ุจู:

#### ุฃ) ุชุทุจูุน ุงููุตูุต (Text Normalization)
```python
# ุฅุฒุงูุฉ ุงูุญุฑูุงุช
ุฅุฌุงุฒุฉ ูุฑุถูุฉ โ ุงุฌุงุฒุฉ ูุฑุถูุฉ

# ุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ
ุฅ ุฌูููุง  ุฒุฉ โ ุฅุฌุงุฒุฉ

# ุฅุฒุงูุฉ ุงูุฎุทูุท ูุงูููุงุตู
ุฅ_ุฌูููุง_ุฒุฉ โ ุฅุฌุงุฒุฉ

# ุชูุญูุฏ ุงูุฃุญุฑู ุงููุชุดุงุจูุฉ
ุขุฌุงุฒุฉ โ ุงุฌุงุฒุฉ
ุฃุฌุงุฒุฉ โ ุงุฌุงุฒุฉ
ุฅุฌุงุฒุฉ โ ุงุฌุงุฒุฉ
```

#### ุจ) ุงูุจุญุซ ุงูุถุจุงุจู (Fuzzy Matching)
- ูุจุญุซ ุนู ูููุงุช ูุชุดุงุจูุฉ ุจูุณุจุฉ 75% ูุฃูุซุฑ
- ููุชุดู ุงููููุงุช ุญุชู ูู ูุงูุช ูุดููุฉ

#### ุฌ) ูุดู ูุคุดุฑุงุช ุงูุชูููู
- ูุดู ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ
- ูุดู ุงูุฃุญุฑู ุงูุฎุงุตุฉ ูุงูุฎุทูุท
- ูุดู ุงูุญุฑูุงุช ุงูุนุฑุจูุฉ
- ุญุณุงุจ ุฏุฑุฌุฉ ุงูุชูููู

### ุงููููุงุช ุงููุณุคููุฉ:
- `app/services/advanced_detection.py` - ูุญุฑู ุงููุดู ุงููุชูุฏู
- `app/services/detection_v2.py` - ูุญุฑู ุงููุดู ุงููุญุณูู

### ุงูุงุณุชุฎุฏุงู:
```python
from app.services.advanced_detection import advanced_detector

# ูุดู ุงูุฅุนูุงูุงุช ุงูููููุฉ
is_spam, confidence, normalized = advanced_detector.detect_obfuscated_spam(
    message="ุฅ ุฌูููุง  ุฒุฉ  ู ูููุฑ ูููุถ ูููู ูููุฉ",
    keywords=["ุฅุฌุงุฒุฉ ูุฑุถูุฉ", "ุงุฌุงุฒุฉ"]
)

# ุงูุญุตูู ุนูู ูุคุดุฑุงุช ุงูุชูููู
indicators = advanced_detector.get_obfuscation_indicators(message)
# {
#     'has_extra_spaces': True,
#     'has_special_chars': True,
#     'has_diacritics': False,
#     'obfuscation_score': 0.45
# }
```

---

## 2๏ธโฃ ุญุฐู ุงูุฑุณุงุฆู ุงููุฏููุฉ

### ุงูุฃูุงูุฑ ุงูุฌุฏูุฏุฉ:

#### `/cleanup_old [days]`
ุญุฐู ุงูุฑุณุงุฆู ุงูุฅุนูุงููุฉ ุงููุฏููุฉ ูู ุงููุฑูุจ

**ุงูุงุณุชุฎุฏุงู:**
```
/cleanup_old          # ุญุฐู ุงูุฑุณุงุฆู ุงูุฃูุฏู ูู 30 ููู
/cleanup_old 7        # ุญุฐู ุงูุฑุณุงุฆู ุงูุฃูุฏู ูู 7 ุฃูุงู
/cleanup_old 60       # ุญุฐู ุงูุฑุณุงุฆู ุงูุฃูุฏู ูู 60 ููู
```

**ุงููุซุงู:**
```
โณ ุฌุงุฑู ุชูุธูู ุงูุฑุณุงุฆู ุงูุฅุนูุงููุฉ ุงููุฏููุฉ (ุฃูุซุฑ ูู 30 ููู)...

โ ุชู ุงูุชูุธูู ุจูุฌุงุญ!

๐ ุงูุฅุญุตุงุฆูุงุช:
โข ุชู ุญุฐู: 45 ุฑุณุงูุฉ
โข ูุดู: 2 ุฑุณุงูุฉ
โข ุฅุฌูุงูู ุงููุนุงูุฌ: 47 ุฑุณุงูุฉ
โข ุงููุชุฑุฉ: ุฃูุซุฑ ูู 30 ููู
```

#### `/cleanup_user <user_id>`
ุญุฐู ุฌููุน ุงูุฑุณุงุฆู ุงูุฅุนูุงููุฉ ููุณุชุฎุฏู ูุนูู

**ุงูุงุณุชุฎุฏุงู:**
```
/cleanup_user 123456789
```

**ุงููุซุงู:**
```
โ ุชู ุงูุญุฐู ุจูุฌุงุญ!

๐ ุงูุฅุญุตุงุฆูุงุช:
โข ุชู ุญุฐู: 12 ุฑุณุงูุฉ
โข ุงููุณุชุฎุฏู: 123456789
```

#### `/archive_summary [days]`
ุนุฑุถ ููุฎุต ุงูุฑุณุงุฆู ุงููุญุฐููุฉ

**ุงูุงุณุชุฎุฏุงู:**
```
/archive_summary      # ุขุฎุฑ 7 ุฃูุงู
/archive_summary 30   # ุขุฎุฑ 30 ููู
```

**ุงููุซุงู:**
```
๐ ููุฎุต ุงูุฑุณุงุฆู ุงููุญุฐููุฉ (ุขุฎุฑ 7 ููู):

๐ ุฅุฌูุงูู ุงูุฑุณุงุฆู: 156

๐ฅ ุฃูุซุฑ ุงููุณุชุฎุฏููู ุฅุฑุณุงูุงู:
  โข ุฃุญูุฏ: 45 ุฑุณุงูุฉ
  โข ูุญูุฏ: 32 ุฑุณุงูุฉ
  โข ุนูู: 28 ุฑุณุงูุฉ
  โข ูุงุทูุฉ: 25 ุฑุณุงูุฉ
  โข ุณุงุฑุฉ: 18 ุฑุณุงูุฉ

๐ ุฃูุซุฑ ุงููููุงุช ุงูููุชุงุญูุฉ:
  โข ุฅุฌุงุฒุฉ ูุฑุถูุฉ: 89 ูุฑุฉ
  โข ุชูุฑูุฑ ุทุจู: 34 ูุฑุฉ
  โข ูุณุชุดูู: 28 ูุฑุฉ
  โข ุนูุงุฌ: 5 ูุฑุงุช
```

#### `/export_archive [format]`
ุชุตุฏูุฑ ุฃุฑุดูู ุงูุฑุณุงุฆู

**ุงูุงุณุชุฎุฏุงู:**
```
/export_archive json   # ุชุตุฏูุฑ ุจุตูุบุฉ JSON
/export_archive csv    # ุชุตุฏูุฑ ุจุตูุบุฉ CSV
```

---

## 3๏ธโฃ ุฎุฏูุงุช ุงูุชูุธูู ุงูุฏูุฑู

### ุงูุฌุฏููุฉ ุงูุชููุงุฆูุฉ:
```python
from app.services.cleanup_service import CleanupService

# ุชูุธูู ุฏูุฑู ูู 24 ุณุงุนุฉ
CleanupService.schedule_periodic_cleanup(
    application, 
    chat_id=-1001234567890,
    interval_hours=24
)
```

### ุงููููุงุช ุงููุณุคููุฉ:
- `app/services/cleanup_service.py` - ุฎุฏูุงุช ุงูุชูุธูู
- `app/handlers/cleanup_handler.py` - ูุนุงูุฌุงุช ุงูุฃูุงูุฑ

---

## 4๏ธโฃ ุฅุญุตุงุฆูุงุช ุงูุชูููู

### ูุคุดุฑุงุช ุงูุชูููู ุงูููุชุดูุฉ:
1. **ูุณุงูุงุช_ุฒุงุฆุฏุฉ** - ูุฌูุฏ ูุณุงูุงุช ุจูู ุงูุฃุญุฑู
2. **ุฃุญุฑู_ุฎุงุตุฉ** - ูุฌูุฏ ุฎุทูุท ูููุงุตู
3. **ุญุฑูุงุช_ุนุฑุจูุฉ** - ูุฌูุฏ ุญุฑูุงุช ุนุฑุจูุฉ
4. **ุชูููู_ูุฑุชูุน** - ุฏุฑุฌุฉ ุชูููู ุฃุนูู ูู 30%

### ุฏุฑุฌุงุช ุงูุซูุฉ:
- **0.0 - 0.3**: ุงุญุชูุงู ููุฎูุถ (ูุง ูุชู ุงูุญุฐู)
- **0.3 - 0.7**: ุงุญุชูุงู ูุชูุณุท (ุชุญุฐูุฑ)
- **0.7 - 1.0**: ุงุญุชูุงู ุนุงูู (ุญุฐู ููุฑู)

---

## 5๏ธโฃ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ูุดู ุฅุนูุงู ูููู
```
ุงูุฑุณุงูุฉ ุงูุฃุตููุฉ:
"ุชุทุจูู ุงุนูุงูุงุช ุงูุทุจูุฉ ุงูููุซู ุจู ุงูุชุทุจูู +966541904263"

ุงููุต ุงููููู:
"ุช ูููุท ูููุจ ูููู ูููู  ุฅ ูููุน ูููููููุง  ูููููุงุช  ุง ูููู ูููุท ูููุจ ูููู ูููุฉ"

ุงููุชูุฌุฉ:
โ ุชู ุงููุดู!
- ุงูุซูุฉ: 85%
- ุงููููุงุช: ุชุทุจููุ ุฅุนูุงูุงุชุ ุทุจูุฉ
- ูุคุดุฑุงุช: ูุณุงูุงุช_ุฒุงุฆุฏุฉุ ุฃุญุฑู_ุฎุงุตุฉุ ุชูููู_ูุฑุชูุน
```

### ูุซุงู 2: ุชูุธูู ุงูุฑุณุงุฆู ุงููุฏููุฉ
```
/cleanup_old 30

ุงููุชูุฌุฉ:
โ ุชู ุงูุชูุธูู ุจูุฌุงุญ!
โข ุชู ุญุฐู: 127 ุฑุณุงูุฉ
โข ูุดู: 3 ุฑุณุงุฆู
โข ุฅุฌูุงูู ุงููุนุงูุฌ: 130 ุฑุณุงูุฉ
```

### ูุซุงู 3: ููุฎุต ุงูุฃุฑุดูู
```
/archive_summary 7

ุงููุชูุฌุฉ:
๐ ููุฎุต ุงูุฑุณุงุฆู ุงููุญุฐููุฉ (ุขุฎุฑ 7 ููู):
๐ ุฅุฌูุงูู ุงูุฑุณุงุฆู: 245
๐ฅ ุฃูุซุฑ ุงููุณุชุฎุฏููู: ุฃุญูุฏ (67)ุ ูุญูุฏ (54)
๐ ุฃูุซุฑ ุงููููุงุช: ุฅุฌุงุฒุฉ ูุฑุถูุฉ (156)
```

---

## 6๏ธโฃ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุชุฎุตูุต ุฏุฑุฌุฉ ุงูุญุณุงุณูุฉ:
```
/sensitivity 0.8   # ุญุณุงุณูุฉ ุนุงููุฉ (80%)
/sensitivity 0.6   # ุญุณุงุณูุฉ ูุชูุณุทุฉ (60%)
/sensitivity 0.5   # ุญุณุงุณูุฉ ููุฎูุถุฉ (50%)
```

### ุฅุฏุงุฑุฉ ุงููููุงุช ุงูููุชุงุญูุฉ:
```
/addkeyword ุฅุฌุงุฒุฉ_ูุฑุถูุฉ
/removekeyword ุฅุฌุงุฒุฉ_ูุฑุถูุฉ
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ

### ุฅุญุตุงุฆูุงุช ุงููุดู:
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงูููุชุดูุฉ
- ุฃูุซุฑ ุงููููุงุช ุงูููุชุงุญูุฉ
- ุฃูุซุฑ ุงููุณุชุฎุฏููู
- ูุณุจุฉ ุงููุดู ุงูุฏููู

### ุฅุญุตุงุฆูุงุช ุงูุชูุธูู:
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุญุฐููุฉ
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุงุดูุฉ
- ูุชูุณุท ููุช ุงูุญุฐู
- ุงููุชุฑุฉ ุงูุฒูููุฉ

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

- [ ] ุฏุนู ุงูุตูุฑ ูุงููููุงุช
- [ ] ูููุฐุฌ ุชุนูู ุขูู ูุชูุฏู
- [ ] ูุดู ุงูุฑูุงุจุท ุงูููููุฉ
- [ ] ุชูุจููุงุช ููุฑูุฉ
- [ ] ููุญุฉ ุชุญูู ููุจ

---

**ูุฐู ุงููุฒุงูุง ุชุฌุนู ุงูุจูุช ุฃููู ูู ูุญุงุฑุจุฉ ุงูุฅุนูุงูุงุช ุงููุฒุนุฌุฉ!** ๐ช
